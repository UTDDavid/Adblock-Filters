! Title: Reddit Mobile Web Filter
! Expires: 30 days
! Description: This removes the "open in the reddit app" popup when clicking on a reddit-mobile-web link and other cosmetic clutter in the UX
! Homepage: https://github.com/UTDDavid/Adblock-Filters
! Last modified: 2023-07-02
! Version: 2
! modified source: https://www.reddit.com/r/uBlockOrigin/comments/yrtr3r/comment/ivx146u/?utm_source=share&utm_medium=web2x&context=3



! REDDIT MOBILE WEB
! Reddit Mobile Web - Navbar - "Use App" Button
www.reddit.com##.TopNav__promoButton

! Reddit Mobile Web - Subreddit Page - "See Reddit in..." Popup Ad
www.reddit.com##.XPromoPopupRpl.m-active:remove()
www.reddit.com##+js(rc, scroll-disabled, body, stay)
! www.reddit.com##body.scroll-disabled:style(overflow: visible!important; position: static!important;)

! + New Reddit Mobile Web - Home Page - "See Reddit in..." Popup Ad
www.reddit.com##shreddit-experience-tree:remove()
www.reddit.com##[paint-group="xpromo"]:remove()
www.reddit.com##[id="xpromo-bottom-sheet"]

! Reddit Mobile Web - NSFW User Profile / NSFW Subreddit - "View this NSFW content anonymously in the Reddit app" Popup Ad
www.reddit.com##.XPromoBlockingModalRpl
www.reddit.com##.m-blurred:style(filter:none !important;)



! Reddit Mobile Web - profile menu drawer
www.reddit.com##[source="user_drawer"][noun="edit_avatar"]
www.reddit.com##[source="achievements"][noun="user_drawer"]
www.reddit.com##[source="nav"][noun="premium_menu"]
www.reddit.com##[source="user_drawer"][noun="advertise"]:upward(1):remove()
www.reddit.com##[source="user_drawer"][noun="try_reddit_pro"]
www.reddit.com##[source="user_drawer"][noun="contributor_program"]

! Reddit Mobile Web - left side bar
www.reddit.com##[aria-label="Reddit resources"]
www.reddit.com##[aria-controls="multireddits_section"]:upward(1)
www.reddit.com##[aria-controls="multireddits_section"]:upward(2)+hr

! Reddit Mobile Web - subreddit about page
www.reddit.com##[aria-label="Community information"] > div > [class="px-md text-neutral-content-weak"]>div>h2>div:has-text(/(^ Rules$)|(^(Moderators|message the moderators|Moderation Policy|Miscellaneous rules|Spoilers)$)/):upward(3)
www.reddit.com##[aria-label="Community information"] > div > [class="px-md text-neutral-content-weak"]>div>h2>div:has-text(/(^ Rules$)|(^(Moderators|message the moderators|Moderation Policy|Miscellaneous rules|Spoilers)$)/):upward(3)+hr

! Reddit Mobile Web - Post - Removes "More Posts you may like" Bottom Infinite Scroll
www.reddit.com##[id="right-sidebar-container"]:remove()

! Reddit Mobile Web - User Profile - Follow Button
www.reddit.com##[slot="button-follow"]

! REDDIT STYLE
! NewNew Reddit Mobile Web - Home/Subreddit Page Post Components - set each post's background to black
www.reddit.com##html:not(.theme-light) .theme-rpl:style(--color-neutral-background: black !important;)

! NewNew Reddit Mobile Web - Body - set background to black
www.reddit.com##html:not(.theme-light).theme-beta:style(--color-neutral-background: black !important;)

! NewNew Reddit Mobile Web - Post Separators - set background to lighter grey
www.reddit.com##html:not(.theme-light) .theme-rpl:style(--color-neutral-border-weak: #ffffff2b !important;)

! Reddit Mobile Web - Block Login Banner for Direct Reddit Image Link (i.redd.it, external-preview.redd.it, preview.redd.it, reddit.com/media?url=) [USES ADGUARD SYNTAX]
www.reddit.com##shreddit-app[pagetype="cdn_media_page"] > reddit-header-small:remove()
www.reddit.com##shreddit-app[pagetype="cdn_media_page"] > post-bottom-bar:remove()

www.reddit.com##shreddit-app[pagetype="cdn_media_page"] > faceplate-tracker > main:style(height: 100vh !important;)
www.reddit.com##shreddit-app[pagetype="cdn_media_page"], img[alt="CDN media"]:style(padding: 0px !important; margin: 0 !important;)
! www.reddit.com##html[class]:style(background: black !important;)

! Reddit Mobile Web - Direct Reddit Image Link (i.redd.it, external-preview.redd.it, preview.redd.it, reddit.com/media?url=) [USES ADGUARD SYNTAX]
i.redd.it^$removeheader=request:Accept
preview.redd.it^$removeheader=request:Accept
external-preview.redd.it^$removeheader=request:Accept






!-------------------- REDDIT DESKTOP --------------------!
! block subreddit
! reddit.com##div[data-subreddit="TrueOffMyChest"]

! ! block posts containing X
! www.reddit.com##._2dkUkgRYbhbpU_2O2Wc5am:has-text(M4F)
! www.reddit.com##._2dkUkgRYbhbpU_2O2Wc5am:has-text(M4M)

! Load images to a libreddit instance
! i.redd.it##+js(rpnt, script, /^.*/gms, location.href="https://libreddit.hu/img"+location.pathname, condition, STICKY_CANARY)
! preview.redd.it##+js(rpnt, script, /^.*/gms, location.href="https://libreddit.hu/img"+location.pathname, condition, STICKY_CANARY)
! external-preview.redd.it##+js(rpnt, script, /^.*/gms, location.href="https://libreddit.hu/img"+location.pathname, condition, STICKY_CANARY)

www.reddit.com$removeparam=iId
www.reddit.com$removeparam=cId

! Reddit - Block Login Banner for Direct Reddit Image Link (i.redd.it, external-preview.redd.it, preview.redd.it, reddit.com/media?url=)
reddit.com##reddit-header-large:matches-path(/media):remove()
! reddit.com##shreddit-app[pagetype="cdn_media_page"] > post-bottom-bar:remove()

reddit.com##zoomable-img:matches-path(/media):style(height: 100vh !important; top: 0 !important;)
reddit.com##shreddit-app, zoomable-img:matches-path(/media):style(padding: 0px !important; margin: 0 !important;)
! reddit.com##html[class]:matches-path(/media):style(background: black !important;)

reddit.com##[id="recaptcha-script"], [id="googleid-signin-script"], [id="appleid-signin-script"], navigation-indicator:matches-path(/media):remove()
reddit.com##faceplate-server-session, slot, shreddit-good-visit-tracker, shreddit-async-loader, faceplate-perfmetric-collector, shreddit-navtimings-collector:matches-path(/media):remove()

! www.reddit.com -  profile menu
www.reddit.com##[source="user_drawer"][noun="edit_avatar"]
www.reddit.com##[source="user_drawer"][noun="contributor_program"]
www.reddit.com##[source="user_drawer"][noun="advertise"]:upward(1)
www.reddit.com##[source="nav"][noun="premium_menu"]

! www.reddit,com - nav bar - advertise button
www.reddit.com###advertise-button

! www.reddit.com - search bar dropdown - trending suggestions
www.reddit.com##[id="reddit-trending-searches-partial-container"]
www.reddit.com##[class="ml-md mt-sm mb-2xs text-neutral-content-weak flex items-center"]

! www.reddit.com - search bar dropdown - 
www.reddit.com##[aria-label="Related people"]

! www.reddit.com - Left Side Bar - Reddit Resources
www.reddit.com##[aria-label="Reddit resources"]

! www.reddit.com - left side bar
www.reddit.com##left-nav-top-section
www.reddit.com##[href="https://redditinc.com"]
! www.reddit.com##.border-r-neutral-border.s\:border-r-sm.border-solid.border-0.m\:block.hidden.order-first.isolate.theme-rpl.left-sidebar

! www.reddit.com - subreddit right side bar
www.reddit.com##[class="i18n-translatable-text"]:has-text(Installed Apps):upward(3)
www.reddit.com##[class="i18n-translatable-text"]:has-text(Installed Apps):upward(3)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(/(Moderators)/)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(/(Moderators)/)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(message the moderators)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(message the moderators)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Moderation Policy)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Moderation Policy)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Rules)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Rules)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Miscellaneous rules)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Miscellaneous rules)+hr
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Spoilers)
www.reddit.com##[aria-label="Community information"] > .py-md > [class="px-md text-neutral-content-weak"]:has-text(Spoilers)+hr
www.reddit.com##dropdown-close-on-scroll[container-selector="#right-sidebar-container"]+hr

! www.reddit.com - right side bar
! www.reddit.com##[id="right-sidebar-contents"] > aside > recent-posts

! NewNew Reddit - create account ad
www.reddit.com##auth-landing-experience-xpromo-cbau-wrapper:remove()

! NewNew Reddit - Profile Menu - achievements menu
www.reddit.com##[source="achievements"]
www.reddit.com##achievements-entrypoint

! NewNew Reddit - Left Side Bar - Custom Feed
www.reddit.com##[aria-controls="multireddits_section"]:upward(1)

! NewNew Reddit - Left Side Bar - Recent Subreddits
www.reddit.com##reddit-recent-pages

! NewNew Reddit - Left Side Bar - Divider Bar
www.reddit.com##[aria-label="Primary"] > [class="w-100 my-sm border-neutral-border-weak"]:nth-of-type(2)

! NewNew Reddit - Comments - User Profile Hover Card
www.reddit.com##[data-id="user-hover-card"] > [slot="content"]:remove()

! NewNew Reddit - Comments - award button
www.reddit.com##award-button.s\:block.hidden

www.reddit.com##.legal-links

! www.reddit.com - not logged in
! left side bar - topics section
www.reddit.com##[aria-controls="TOPICS"]:upward(1)
! right side bar - Popular Communities section
www.reddit.com##[aria-label="Popular Communities"]
! get app button
www.reddit.com##[source="xpromo"]
